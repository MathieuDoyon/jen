metadata:
  name: template1
  description: A first dummy test template
  version: 0.0.1
import:
  common: common
  go: go/common
actions:
  create:
    - call: common.create
    - input:
        question: Name of project # defaults to value of "NAME" property above
        var: NAME
        default: $(basename $(pwd))
    - option:
        question: A yes/no choice
        var: MY_OPTION
        default: true
    - if: .MY_OPTION
      options:
        question: Select all desired options
        items: # Multi-selection (check-boxes), sets variable "MY_OPTION1" to either "true" or "false", and same thing for "MY_OPTION2"
          - text: Displayed text for option 1
            var: MY_OPTION1
            default: true
          - text: Displayed text for option 2
            var: MY_OPTION2
            default: false
    - choice:
        question: Select one of the following choices
        var: MY_SELECT
        default: choice1
        items: # Exclusive selection (radio-button), sets variable "MY_SELECT" to one of "choice1" or "choice2"
          - text: Displayed text for choice 1
            value: choice1
          - text: Displayed text for choice 2
            value: choice2
    - render:
        source: src
    - if: .MY_OPTION
      do:
        action: install
    - exec:
        command: echo Hello world!
  install:
    - if: eq .MY_SELECT "choice1"
      exec: "echo Project: $NAME Secret: $SECRET" # executes script "install", passing all values as env vars
  uninstall:
    - exec: uninstall # executes script "uninstall", passing all values as env vars
